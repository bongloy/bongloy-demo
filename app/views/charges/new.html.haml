.row
  .row#payment_form
    .col-xs-12.col-sm-12.col-md-4.col-lg-4.col-md-offset-3.col-lg-offset-4
      .text-center.card-container
        %h3 Fill out the Payment Form
        %hr
        = simple_form_for(:new_charge, url: charges_path, :html => {:autocomplete => "on", :data => { name: "paymentForm" }}) do |f|
          / This form is generated by SimpleForm https://github.com/plataformatec/simple_form
          = f.input :token, as: :hidden, input_html: { data: { name: "cardToken" } }
          .card-wrapper
          .fields-wraper
            %p.alert.alert-danger{:role => "alert", data: { name: "errorMessages" }, class: "#{charge.errors.any? ? 'show' : 'hidden'}"}
              - if charge.errors.any?
                = charge.errors.full_messages.to_sentence
            .row
              .col-md-12
                = f.input :card_number, placeholder: "Card Number", label: false, input_html: { name: nil, id: nil, data: { name: "cardNumber" } }
                = f.input :card_name, placeholder: "Name on card", label: false, input_html: { name: nil, id: nil, data: { name: "cardName" } }
            .row
              .col-md-6.col-sm-6.col-xs-6
                = f.input :expiry, placeholder: "Expiry", label: false, input_html: { name: nil, id: nil, data: { name: "expiry" } }
                / Uncomment to include separate inputs for expiry month and expiry year
                /= f.input :exp_month, placeholder: "Expiry Month", label: false, input_html: { name: nil, id: nil, data: { name: "expMonth" } }
                /= f.input :exp_year, placeholder: "Expiry Year", label: false, input_html: { name: nil, id: nil, data: { name: "expYear" } }
              .col-md-6.col-sm-6.col-xs-6
                = f.input :cvc, placeholder: "CVC", label: false, input_html: { name: nil, id: nil, data: { name: "cvc" }, maxLength: 4}
            .row.h-separator
            .row
              .col-md-8.col-sm-8.col-xs-12
                = f.input :amount, placeholder: "Amount", label: false, input_html: { data: { name: "amount" } }
              .col-md-4.col-sm-4.col-xs-12
                = f.input :currency, label: false, input_html: { value: "USD", readonly: true }
            #submit_payment_form.form-group
              = f.button(:submit, "Buy", :class => "btn-success form-control")

  .col-md-offset-2.col-md-8
    .row#sample_cards
      .col-xs-12.col-sm-12.col-md-12.col-lg-12
        = render "sample_cards"
    = javascript_include_tag "charges"
